[gd_scene load_steps=31 format=3 uid="uid://bkgg2b2f7xs4x"]

[ext_resource type="PackedScene" uid="uid://dhj7wm20ug320" path="res://scenes/clients/client_root.tscn" id="1_bgsk8"]
[ext_resource type="Script" path="res://scripts/client_scene_script.gd" id="1_gd6md"]
[ext_resource type="Texture2D" uid="uid://cfmu5whcb5cae" path="res://assets/ui_art/overlay_001.png" id="2_fk1jv"]
[ext_resource type="Script" path="res://scripts/client_script.gd" id="2_jrrs3"]
[ext_resource type="Theme" uid="uid://dyhggra4gad0m" path="res://assets/text_dialogue/main_theme.tres" id="2_nocis"]
[ext_resource type="Shader" path="res://assets/client_resources/new_shader.gdshader" id="3_7xfna"]
[ext_resource type="Texture2D" uid="uid://dcn66ocnttfy7" path="res://assets/ui_art/blank.png" id="4_w6h7d"]
[ext_resource type="Texture2D" uid="uid://dauum5qf4rf22" path="res://assets/ui_art/table-f1.png" id="6_54mh2"]
[ext_resource type="PackedScene" uid="uid://3qxknx1wgh4u" path="res://scenes/dialogue_box.tscn" id="6_wapug"]
[ext_resource type="Texture2D" uid="uid://0wahfh76uovv" path="res://assets/ui_art/table-f2.png" id="7_7w35b"]
[ext_resource type="Texture2D" uid="uid://wisfo2pjuva1" path="res://assets/ui_art/gold-empty-v05.png" id="9_l4v8k"]
[ext_resource type="Texture2D" uid="uid://b7d7wyp2qg8j7" path="res://assets/ui_art/progress-header-v01.png" id="9_vduxl"]
[ext_resource type="Texture2D" uid="uid://dq87u5pnrn6g" path="res://assets/ui_art/gold-full-v04.png" id="11_7f123"]
[ext_resource type="Texture2D" uid="uid://d0q86ihbp1xgi" path="res://assets/ui_art/karma-empty-v05.png" id="11_n6hxn"]
[ext_resource type="Texture2D" uid="uid://b2rt8511c653y" path="res://assets/ui_art/karma-full-v04.png" id="13_cl0hk"]
[ext_resource type="Texture2D" uid="uid://ci3nobr6ymkia" path="res://assets/ui_art/karma-overlay-v06.png" id="14_tgaq4"]
[ext_resource type="Texture2D" uid="uid://1fkxe4qcnhk5" path="res://assets/ui_art/gold-overlay-v06.png" id="15_dlt51"]
[ext_resource type="Texture2D" uid="uid://bq8wwnwigq3n1" path="res://assets/ui_art/karma-scroll-v01.png" id="15_fkism"]
[ext_resource type="Texture2D" uid="uid://mrtthhljo0qq" path="res://assets/ui_art/gold-scroll-v01.png" id="17_tetys"]
[ext_resource type="Texture2D" uid="uid://ckonyodhlq8p1" path="res://assets/ui_art/progress-empty-v01.png" id="18_6usbg"]
[ext_resource type="Texture2D" uid="uid://bjpgxb681v1bn" path="res://assets/ui_art/crunch-randomevent-Text.png" id="19_kosnc"]
[ext_resource type="Texture2D" uid="uid://y7fcrvg3cixl" path="res://assets/ui_art/progress-full-v01.png" id="19_misb7"]
[ext_resource type="PackedScene" uid="uid://dt3ap5pj3gt4w" path="res://scenes/player_board.tscn" id="20_gnm8i"]
[ext_resource type="Texture2D" uid="uid://b47agvae6a7f2" path="res://assets/ui_art/reader-cutin-02.png" id="20_gv7qr"]
[ext_resource type="Texture2D" uid="uid://dbespbd6c7mou" path="res://assets/ui_art/progress-overlay-v01.png" id="20_uxscl"]
[ext_resource type="Texture2D" uid="uid://bosmq6yc2cb10" path="res://assets/ui_art/settings.png" id="21_tilx7"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vsixj"]
shader = ExtResource("3_7xfna")
shader_parameter/angle = 0.5
shader_parameter/position = 0.3
shader_parameter/spread = 0.065
shader_parameter/cutoff = -0.577
shader_parameter/falloff = 1.0
shader_parameter/edge_fade = 0.223
shader_parameter/speed = 2.0
shader_parameter/ray1_density = 8.0
shader_parameter/ray2_density = 10.0
shader_parameter/ray2_intensity = 0.3
shader_parameter/color = Color(1, 0.901961, 0.65098, 0.25098)
shader_parameter/hdr = false
shader_parameter/seed = 5.0

[sub_resource type="SpriteFrames" id="SpriteFrames_4bryl"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_54mh2")
}, {
"duration": 1.0,
"texture": ExtResource("7_7w35b")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="LabelSettings" id="LabelSettings_65k3w"]
font_size = 30
outline_size = 17
outline_color = Color(0, 0, 0, 1)

[sub_resource type="LabelSettings" id="LabelSettings_qi5wv"]
font_size = 33
outline_size = 15
outline_color = Color(0, 0, 0, 1)
shadow_color = Color(0, 0, 0, 0.831373)

[node name="client_scene" type="Control"]
visibility_layer = 2
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_gd6md")

[node name="godray" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_vsixj")
position = Vector2(360, 896)
texture = ExtResource("4_w6h7d")

[node name="client_parent" type="AspectRatioContainer" parent="."]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 0.4
offset_left = 40.0
offset_right = -40.0
grow_horizontal = 2
grow_vertical = 2

[node name="Control" type="Control" parent="client_parent"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="client" parent="client_parent/Control" instance=ExtResource("1_bgsk8")]
script = ExtResource("2_jrrs3")

[node name="overlay" type="Sprite2D" parent="."]
scale = Vector2(0.215, 0.215)
texture = ExtResource("2_fk1jv")
centered = false

[node name="foreground" type="AnimatedSprite2D" parent="."]
position = Vector2(-96, 512)
scale = Vector2(0.275, 0.275)
sprite_frames = SubResource("SpriteFrames_4bryl")
autoplay = "default"
frame_progress = 0.0249637
centered = false

[node name="progress" type="Sprite2D" parent="."]
position = Vector2(364, 121)
scale = Vector2(0.17, 0.17)
texture = ExtResource("9_vduxl")

[node name="gold_bar" type="TextureProgressBar" parent="."]
layout_mode = 1
anchors_preset = -1
anchor_left = 1.0
anchor_top = 0.05
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -265.854
offset_top = 97.695
offset_right = 2309.15
offset_bottom = 4490.7
grow_horizontal = 0
grow_vertical = 2
scale = Vector2(0.25, 0.25)
value = 80.0
fill_mode = 3
texture_under = ExtResource("9_l4v8k")
texture_progress = ExtResource("11_7f123")

[node name="karma_bar" type="TextureProgressBar" parent="."]
layout_mode = 1
anchors_preset = -1
anchor_top = 0.05
anchor_bottom = 0.5
offset_left = 128.038
offset_top = 96.035
offset_right = 2703.04
offset_bottom = 4489.04
grow_vertical = 2
scale = Vector2(0.25, 0.25)
value = 40.0
fill_mode = 3
texture_under = ExtResource("11_n6hxn")
texture_progress = ExtResource("13_cl0hk")

[node name="Karma-overlay" type="Sprite2D" parent="."]
position = Vector2(200.038, 232.035)
scale = Vector2(0.254, 0.254)
texture = ExtResource("14_tgaq4")

[node name="karma" type="Sprite2D" parent="."]
position = Vector2(85, 240)
rotation = -0.436339
scale = Vector2(0.14, 0.14)
texture = ExtResource("15_fkism")

[node name="Gold-overlay" type="Sprite2D" parent="."]
position = Vector2(525.771, 233.07)
scale = Vector2(0.254, 0.254)
texture = ExtResource("15_dlt51")

[node name="gold" type="Sprite2D" parent="."]
position = Vector2(639, 240)
rotation = 0.436332
scale = Vector2(0.14, 0.14)
texture = ExtResource("17_tetys")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(365.77, 50.4)
scale = Vector2(0.16, 0.16)
texture = ExtResource("20_uxscl")

[node name="reputation_bar" type="TextureProgressBar" parent="."]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
offset_left = 128.0
offset_top = 13.0
offset_right = 2383.0
offset_bottom = 4982.0
grow_horizontal = 2
scale = Vector2(0.16, 0.16)
texture_under = ExtResource("18_6usbg")
texture_progress = ExtResource("19_misb7")

[node name="Label3" type="Label" parent="."]
visible = false
layout_mode = 1
anchors_preset = -1
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -560.0
offset_top = -488.0
offset_right = -478.0
offset_bottom = -442.0
grow_horizontal = 0
grow_vertical = 2
theme = ExtResource("2_nocis")
text = "Karma
"
label_settings = SubResource("LabelSettings_65k3w")

[node name="Label" type="Label" parent="."]
visible = false
layout_mode = 1
anchors_preset = -1
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -224.0
offset_top = -488.0
offset_right = -165.0
offset_bottom = -442.0
grow_horizontal = 0
grow_vertical = 2
theme = ExtResource("2_nocis")
text = "Gold
"
label_settings = SubResource("LabelSettings_65k3w")

[node name="Label2" type="Label" parent="."]
visible = false
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -56.0
offset_top = -1221.0
offset_right = 74.0
offset_bottom = -1175.0
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("2_nocis")
text = " Progress"
label_settings = SubResource("LabelSettings_qi5wv")

[node name="random_event" type="Sprite2D" parent="."]
modulate = Color(1, 1, 1, 0)
position = Vector2(360, 672)
scale = Vector2(0.22, 0.22)
texture = ExtResource("19_kosnc")

[node name="cut_in" type="Sprite2D" parent="."]
visible = false
modulate = Color(1, 1, 1, 0)
position = Vector2(360, 640)
texture = ExtResource("20_gv7qr")

[node name="dialogue_box" parent="." instance=ExtResource("6_wapug")]
visible = false
layout_mode = 1
offset_top = 50.0
offset_bottom = 50.0

[node name="gold_slider" type="HSlider" parent="."]
visible = false
layout_mode = 1
anchors_preset = -1
anchor_left = 0.4
anchor_top = 0.271
anchor_right = 0.6
anchor_bottom = 0.9
offset_left = -200.0
offset_top = 16.0
offset_right = 200.0
offset_bottom = 31.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("2_nocis")
max_value = 20.0

[node name="Button" type="Button" parent="gold_slider"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -160.0
offset_top = 20.0
offset_right = 160.0
offset_bottom = 90.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("2_nocis")
text = "Set Price"

[node name="Label" type="Label" parent="gold_slider"]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.6
anchor_right = 0.5
anchor_bottom = 0.65
offset_left = -140.0
offset_top = -180.0
offset_right = 140.0
offset_bottom = -130.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("2_nocis")
text = "Slide to set price"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Button" type="TextureButton" parent="."]
layout_mode = 0
offset_right = 680.0
offset_bottom = 680.0
scale = Vector2(0.09, 0.09)
texture_normal = ExtResource("21_tilx7")
texture_pressed = ExtResource("21_tilx7")
texture_hover = ExtResource("21_tilx7")
texture_disabled = ExtResource("21_tilx7")
texture_focused = ExtResource("21_tilx7")
stretch_mode = 0

[node name="player_board" parent="." instance=ExtResource("20_gnm8i")]

[connection signal="price_set" from="." to="dialogue_box" method="_on_client_scene_price_set"]
[connection signal="choose_price" from="dialogue_box" to="." method="_on_dialogue_box_choose_price"]
[connection signal="value_changed" from="gold_slider" to="." method="_on_gold_slider_value_changed"]
[connection signal="pressed" from="gold_slider/Button" to="." method="_on_gold_button_pressed"]
[connection signal="pressed" from="Button" to="." method="_on_button_pressed"]
